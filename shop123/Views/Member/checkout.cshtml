@model IEnumerable<shop123.Models.ordersDetail>


@{
    ViewBag.Title = "ShoppingCar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .table th, .table td {
        text-align: center;
        vertical-align: middle;
    }
</style>


<table class="table ">
    <thead><tr><th>商品</th><th></th><th>單價</th><th>數量</th><th>總計</th></tr> </thead>

    <tbody>
        @{ int TotalPrice = 0;}
        @foreach (var item in Model)
        {
            int itemSubtotal = item.orderDetailprice.Value * item.orderDetailnum.Value;
            TotalPrice += itemSubtotal;
            <tr>

               
                <td><a href="@Url.Action("Detail","Home")?id=@item.spuId" )"><img src="@Url.Content($"{item.spuImg1}")" style="width:100px;height:100px" class="img-responsive"></a></td>
                <td>
                    <a class="text-dark  text-decoration-none" href="@Url.Action("Detail","Home")?id=@item.spuId" )">
                        @item.orderDetailspuname-
                        @item.orderDetailcolor-
                        @item.orderDetailsize
                    </a>
                </td>

                <td>@($"{item.orderDetailprice:c0}")</td>

                <td>
                    @item.orderDetailnum
                </td>

                <td>@($"{ itemSubtotal:c0}")</td>
                
            </tr>
        }
    </tbody>
</table>
<form action="@Url.Action("ShoppingCar")" method="post">
    <div class="form-horizontal">
        <h4>填寫訂單收件人資料</h4>
        <hr />

        <div class="form-group">
            <span class="control-label col-md-2">收件人姓名</span>
            <div class="col-md-10">
                <input type="text" id="receiverName" name="receiverName" required="required" class="form-control" />
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">收件人信箱</span>
            <div class="col-md-10">
                <input type="email" id="receiverEmail" name="receiverEmail" required="required" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <span class="control-label col-md-2">電話</span>
            <div class="col-md-10">
                <input type="text" id="receiverPhone" name="receiverPhone" required="required" class="form-control" />
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">收件人地址</span>
            <div class="col-md-10">
                <input type="text" id="receiverAddress" name="receiverAddress" required="required" class="form-control" />
            </div>
        </div>

        <div class="form-group">
                <span class="control-label col-md-2">總金額</span>
                <div class="col-md-10">
                    <input type="text" id="totalprice" name="totalprice" class="" value="@TotalPrice" )" />
                </div>
            </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="確認訂購" class="btn btn-info" />
                <p>總金額：@($"{TotalPrice:c0}")</p>
            </div>
        </div>
    </div>
</form>



