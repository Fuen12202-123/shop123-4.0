@model IEnumerable<shop123.Models.ordersDetail>


@{
    ViewBag.Title = "ShoppingCar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .table th, .table td {
        text-align: center;
        vertical-align: middle;
    }
</style>


<table class="table ">
    <thead><tr><th>商品</th><th></th><th>單價</th><th>數量</th><th>總計</th></tr> </thead>

    <tbody>
        @{ int TotalPrice = 0;}
        @foreach (var item in Model)
        {
            int itemSubtotal = item.orderDetailprice.Value * item.orderDetailnum.Value;
            TotalPrice += itemSubtotal;
            <tr>


                <td><a href="@Url.Action("Detail","Home")?id=@item.spuId" )"><img src="@Url.Content($"{item.spuImg1}")" style="width:100px;height:100px" class="img-responsive"></a></td>
                <td>
                    <a class="text-dark  text-decoration-none" href="@Url.Action("Detail","Home")?id=@item.spuId" )">
                        @item.orderDetailspuname-
                        @item.orderDetailcolor-
                        @item.orderDetailsize
                    </a>
                </td>

                <td>@($"{item.orderDetailprice:c0}")</td>

                <td>
                    @item.orderDetailnum
                </td>

                <td>@($"{ itemSubtotal:c0}")</td>

            </tr>
        }
       
    </tbody>
</table>
<hr />
<div class="row">
    <div class="col-5">
        <span>留言：</span> <input class="" type="text" placeholder="管理室代收 / 電話聯絡時間..." value="" style="width:350px">
        <br />
        <br />
        <span>付款方式：</span>
        <span>貨到付款</span>
        @*<select>
            <option value="0">貨到付款</option>
            <option value="0">信用卡</option>
        </select>*@

    </div>
    <div class="col-7">
        <form action="@Url.Action("checkout","ShoppingCart")" method="post">
            <div class="form-horizontal ">
                <br />
                <div class="form-group">
                    <span class="control-label ">收件人姓名</span>
                    <div class="">
                        <input type="text" id="receiverName" name="receiverName" required="required" class="form-control" />
                    </div>
                </div>
                <div class="form-group">
                    <span class="control-label ">電話</span>
                    <div class="">
                        <input type="text" id="receiverPhone" name="receiverPhone" required="required" class="form-control" />
                    </div>
                </div>

                <div class="form-group">
                    <span class="control-label ">收件人地址</span>
                    <div class="">
                        <input type="text" id="receiverAddress" name="receiverAddress" required="required" class="form-control" />
                    </div>
                </div>

                <div class="form-group ">
                    <input type="hidden" id="totalprice" name="totalprice" class="" value="@TotalPrice" )" />
                </div>

                <div class="form-group ">
                    <div class=" d-flex flex-row-reverse ">
                        <input type="submit" value="下訂單" class="btn btn-dark " />
                        <input type="submit" value="@($"{TotalPrice:c0}")" class="btn" style="cursor:default" />
                    </div>
                </div>
            </div>
        </form>
        


    </div>
</div>







